<!doctype html>
<first-el></first-el>

<ul id="order"></ul>
<div id="error"></div>

<script src="../../window.umd.js"></script>
<script>
  let firstEl = document.querySelector('first-el');
  let worker = new Worker('./app.js');

  worker.addEventListener('message', function(ev){
    let data = ev.data;
    if(data.type === 'app-rendered') {
      let txt = data.detail;
      let order = document.querySelector('#order');
      let li = document.createElement('li');
      li.textContent = txt;
      order.appendChild(li);
    }
  });

  firstEl.addEventListener('error', function(ev){
    document.querySelector('#error').textContent = 'failed';
  });

  fritz.use(worker);
</script>
